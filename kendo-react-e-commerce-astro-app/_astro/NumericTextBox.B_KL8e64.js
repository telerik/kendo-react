import{r as i}from"./index.CCMsPnvT.js";import{V as ht,J as St,I as yt,R as ke,aq as Ke,W as xt,n as Et,z as Te,g as We,ap as Ot,ao as kt,e as o}from"./languageStore.BJ1syNBg.js";import{i as Ct}from"./useInternationalization.xBmVmKY6.js";import{i as Nt}from"./index.1fXykIpd.js";import{e as It}from"./getTabIndex.DyyoPw_c.js";import{s as Ye}from"./useCustomComponent.C6K-YJq0.js";import{I as $t}from"./FloatingLabel.BTxZDrW2.js";import{o as fe,I as ge,e as pe}from"./index.zQUBlHq1.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ve=11111111111111e-7,Rt=.31111111111111117,wt=1,et=1,tt=0,N=/\d/,rt=15,Ge=()=>({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),Ce=(t,r)=>t!==void 0?t:r,y=(t,r,n)=>t===null&&t===void 0?"":typeof t=="string"?t:n.formatNumber(t,r),He=t=>(String(t).split(".")[1]||"").length,nt=(t,r)=>Math.max(He(t),He(r)),Mt=t=>Math.min(t,rt),lt=(t,r)=>{const n=Mt(r);return parseFloat(t.toFixed(n))},Je=(t,r,n,e,m,a,c)=>{const u=nt(t||0,n||0),f=W(lt((t||0)+(n||0),u),e,m);r.eventValue=f,r.currentLooseValue=y(f,a,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},Ue=(t,r,n,e,m,a,c)=>{const u=nt(t||0,n||0),f=W(lt((t||0)-(n||0),u),e,m);r.eventValue=f,r.currentLooseValue=y(f,a,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},W=(t,r,n)=>t==null?t:!(t>1||t<1||t===1)||n!==void 0&&r!==void 0&&n<r?null:(n!==void 0&&t>n&&(t=n),r!==void 0&&t<r&&(t=r),t),Ft=(t,r)=>{const n=r.findIndex(([m,a])=>!!a&&t.indexOf(a)===t.length-a.length);if(n===-1)return-1;const e=r[n][1];return t.length-e.length},Dt=(t,r)=>{const n=r.findIndex(([e,m])=>!!e&&t.indexOf(e)===0);return n===-1?-1:r[n][0].length},jt=(t,r,n)=>{const e=Ft(t,r);if(e!==-1&&n.selectionStart>e){n.selectionStart=n.selectionEnd=e;return}n.selectionStart>t.length&&(n.selectionStart=n.selectionEnd=t.length);const m=Dt(t,r);m!==-1&&n.selectionStart<m&&(n.selectionStart=n.selectionEnd=m),n.selectionStart===-1&&(n.selectionStart=n.selectionEnd=0)},$=(t,r,n,e)=>{t.selectionStart=t.selectionEnd=r,jt(n,e,t)},_e=(t,r,n,e)=>{t.eventValue=e.parseNumber(t.prevLooseValue,r),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,$(t,t.selectionStart,t.currentLooseValue,n)},Ne=(t,r,n)=>r.split(t).length!==n.split(t).length&&r.length===n.length+t.length,Pt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return Ne(r.minusSign,n,e)||Ne("-",n,e)||Ne("−",n,e)},Bt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return n.indexOf(r.minusSign)===-1&&e.indexOf(r.minusSign)!==-1},qt=(t,r)=>String(t.currentLooseValue).split(r.decimal).length>2,zt=(t,r)=>{const n=r.formatNumber(Ve,t),e=r.formatNumber(-Ve,t),m=r.formatNumber(tt,t),a=r.formatNumber(et,t),c=be(n),u=be(e),f=be(m),h=be(a),j=ve(n),A=ve(e),b=ve(m),v=ve(a);return{positiveInfo:[c,j],negativeInfo:[u,A],zeroInfo:[f,b],oneInfo:[h,v]}},At=(t,r)=>{const n=r.formatNumber(Ve,t),e=r.formatNumber(-Ve,t),m=r.formatNumber(tt,t),a=r.formatNumber(et,t),c=r.numberSymbols(),u=new RegExp(`[\\d\\${c.decimal}${c.group}]`,"g");return[n,e,m,a].map(f=>f.replace(u,"")).join("").split("").filter((f,h,j)=>j.indexOf(f)===h).join("")},Ie=(t,r)=>{const n=t.indexOf(r.decimal);return n>-1?n:X(t,N)},Re=t=>t.split("").reverse().join(""),X=(t,r)=>t.length-Re(t).search(r),be=t=>t.split(t[t.search(N)])[0],ve=t=>{const r=Re(t);return Re(r.split(r[r.search(N)])[0])},$e=(t,r)=>t.search(r),Qe=(t,r)=>{const n=t.indexOf(r);return n>-1?t.length-n-1:0},Ze=(t,r,n,e,m)=>{const a=t.replace(m,"")[0]==="0",c=r.replace(m,"")[0]==="0";if(a&&!c)return n-1;if(c&&e)return n+1;let u=0;for(let h=0;h<n;h++)N.test(t.charAt(h))&&u++;let f=0;for(;u>0&&r.length>f;)N.test(r.charAt(f))&&u--,f++;return f},Xe=(t,r,n)=>{const e={...t},{prevLooseValue:m}=e,a=n.numberSymbols(),c=At(r,n),u=String(e.currentLooseValue),f=String(m),h=new RegExp(`[^\\d\\${a.decimal}]`,"g"),j=new RegExp(`[^\\d\\${a.decimal}\\${a.group}]`,"g"),A=new RegExp(`[\\d\\${a.decimal}\\${a.group}]`),b=u.replace(h,""),v=$e(u,N),R=v===-1?-1:X(u,N),Y=u.indexOf(a.decimal),P=(u.substring(0,v)+u.substring(v,R).replace(j,"")+u.substring(R,u.length)).split("").filter(p=>c.indexOf(p)!==-1||p.search(A)!==-1).join(""),ee=n.formatNumber(Rt,r).replace(h,""),te=ee.indexOf(a.decimal),w=te>-1?ee.length-te-1:0,re=n.formatNumber(wt,r).replace(h,""),ne=re.indexOf(a.decimal),E=ne>-1?re.length-ne-1:0,{positiveInfo:G,negativeInfo:Le,zeroInfo:we,oneInfo:Me}=zt(r,n),O=[G,Le,we,Me],le=O.findIndex(p=>p.findIndex(B=>!!B)!==-1)!==1,H=u.length>0&&u.length<f.length,K=typeof r=="string"&&r[0]==="p"&&u&&u.indexOf(a.percentSign)===-1;if(!e.isPaste){if(u==="")return e.eventValue=null,e.currentLooseValue="",e;if(e.currentLooseValue===a.minusSign&&n.formatNumber(-0,r)!==f)return e.eventValue=-0,e.currentLooseValue=y(e.eventValue,r,n),$(e,Ie(e.currentLooseValue,a),e.currentLooseValue,O),e;if(e.currentLooseValue===a.decimal){e.eventValue=0;const s=y(e.eventValue,r,n);if(E===0&&w>0){const g=X(s,N);e.currentLooseValue=s.substring(0,g)+a.decimal+s.substring(g)}else e.currentLooseValue=s;return $(e,Ie(e.currentLooseValue,a)+1,e.currentLooseValue,O),e}if(Pt(e,a)){const s=n.parseNumber(m,r);e.eventValue=-(s!==null?s:0),e.currentLooseValue=y(e.eventValue,r,n);const g=$e(e.currentLooseValue,N),k=$e(f,N);return $(e,e.selectionEnd-1+(g-k),e.currentLooseValue,O),e}if(Bt(e,a))return e.eventValue=n.parseNumber(e.currentLooseValue,r),$(e,e.selectionStart,e.currentLooseValue,O),e;if(qt(e,a))return _e(e,r,O,n),e;if(K)return e.eventValue=n.parseNumber(u,r)/100,e.currentLooseValue=y(e.eventValue,r,n),e;if(String(e.currentLooseValue).replace(/[^\d]/g,"").length>rt||b!==u&&u&&le&&O.findIndex(([s,g])=>{const k=u.indexOf(s),J=u.indexOf(g),ue=k===0,I=J===u.length-g.length,U=k+s.length!==v&&v!==-1&&u[k+s.length]!==a.decimal,_=J!==R&&R!==-1&&u[J-1]!==a.decimal;return s&&g?U||_?!1:ue&&I:s?U?!1:ue:g?_?!1:I:!1})===-1)return _e(e,r,O,n),e;if(b[b.length-1]===a.decimal&&w>0)return e.eventValue=n.parseNumber(u,r),e.currentLooseValue=P,e;if(e.currentLooseValue&&m&&(c+a.decimal+a.group).split("").findIndex(s=>u.split("").filter(g=>g===s).length<f.split("").filter(g=>g===s).length&&u.length+1===f.length?!(s===a.decimal&&Qe(f.replace(h,""),a.decimal)===0):!1)>-1)return e.eventValue=n.parseNumber(t.prevLooseValue,r),e.currentLooseValue=t.prevLooseValue,e;const p=Qe(b,a.decimal),B=b[b.length-1]==="0";if(H&&B&&p<E)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e;if(p>0){const s=u.substring(0,Y);if(B&&(!s||f.indexOf(s)!==0)){e.eventValue=n.parseNumber(e.currentLooseValue,r);const g=y(e.eventValue,r,n);return $(e,Ze(u,g,e.selectionEnd,H,h),g,O),e.currentLooseValue=g,e}if(p>w){const g=u.indexOf(a.decimal),k=u.substring(0,g)+u.substring(g,g+1+w)+u.substring(R,String(e.currentLooseValue).length);return e.eventValue=n.parseNumber(k,r),e.currentLooseValue=k,$(e,e.selectionStart,k,O),e}if(E!==w&&p<=w&&B)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=P,e;if(p<E)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e}}if(e.eventValue=n.parseNumber(e.currentLooseValue,r),K&&(e.eventValue=e.eventValue/100),typeof e.eventValue=="number"){const p=y(e.eventValue,r,n);u.length===1?$(e,Ie(p,a),p,O):$(e,Ze(u,p,e.selectionEnd,H,h),p,O),e.currentLooseValue=p}else e.currentLooseValue=y(n.parseNumber(b),r,n);return e};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Kt="Please enter a valid value!",Tt=St(),ut=i.forwardRef((t,r)=>{const n=ht(Tt,t),{className:e,value:m,defaultValue:a,format:c,width:u,tabIndex:f,accessKey:h,title:j,placeholder:A,min:b,max:v,dir:R,name:Y,label:P,id:ee,ariaDescribedBy:te,ariaLabelledBy:w,ariaLabel:re,inputType:ne,readOnly:E,validationMessage:G,children:Le,touched:we,visited:Me,modified:O,style:le,inputStyle:H,valid:K,step:p=S.step,spinners:B=S.spinners,disabled:s=S.disabled,required:g=S.required,validityStyles:k=S.validityStyles,prefix:J=S.prefix,suffix:ue=S.suffix,onChange:I=S.onChange,onFocus:U=S.onFocus,onBlur:_=S.onBlur,rangeOnEnter:Fe=S.rangeOnEnter,size:he=S.size,rounded:Se=S.rounded,fillMode:ae=S.fillMode,autoFocus:at=S.autoFocus,inputAttributes:ot,...De}=n,st=yt(),je=ee||st,L=Ct(),oe=Nt(),V=i.useRef(null),se=i.useRef(void 0),[it,T]=i.useState(!1),x=i.useRef(Ge()),ie=i.useRef(!1),ye=i.useRef(void 0),Q=i.useRef(a),Z=y(x.current.focused&&!s?x.current.currentLooseValue:Ce(m,Q.current),c,L);ye.current=Z;const[ct]=Ye(J),[dt]=Ye(ue);i.useEffect(()=>{V.current&&V.current.setCustomValidity&&V.current.setCustomValidity(me().valid?"":G||Kt)});const Pe=i.useCallback(()=>{V.current&&V.current.focus()},[]),ce=i.useCallback(()=>se.current!==void 0?se.current:Ce(m,Q.current),[m]),Be=i.useCallback(()=>Y,[Y]),de=i.useCallback(()=>g,[g]),me=i.useCallback(()=>{const d=G!==void 0,l=ce(),z=K!==void 0?K:!x.current.valueIsOutOfRange&&(!de()||l!=null);return{customError:d,valid:z,valueMissing:l==null}},[G,K,ce,de]),xe=i.useCallback(()=>k,[k]),qe=i.useCallback(()=>n,[n]),q=i.useCallback(()=>{const d={element:V.current,focus:Pe};return Object.defineProperty(d,"name",{get:Be}),Object.defineProperty(d,"value",{get:ce}),Object.defineProperty(d,"validity",{get:me}),Object.defineProperty(d,"validityStyles",{get:xe}),Object.defineProperty(d,"required",{get:de}),Object.defineProperty(d,"props",{get:qe}),d},[Be,ce,me,xe,de,Pe,qe]);i.useImperativeHandle(r,q);const M=i.useCallback(()=>({eventValue:Ce(m,Q.current),prevLooseValue:ye.current,currentLooseValue:V.current.value,selectionStart:V.current.selectionStart,selectionEnd:V.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:ie.current,focused:x.current.focused}),[m]),F=i.useCallback((d,l)=>{if(s)return;se.current=l.eventValue,Q.current=l.eventValue;const z=y(W(l.eventValue,b,v),c,L),C=W(L.parseNumber(z,c),b,v);C!==l.eventValue&&(l.valueIsOutOfRange=!0,l.eventValue=C,Q.current=C),m!==l.eventValue&&ke(I,d,q(),{value:l.eventValue}),se.current=void 0,x.current=l,T(D=>!D)},[m,I,s,T,q]),mt=i.useCallback(d=>{const l=M();ie.current=!1,F(d,Xe(l,c,L))},[c,I,L,F,M]),ft=i.useCallback(d=>{if(E||s)return;let l=M();const z=L.parseNumber(String(l.currentLooseValue),c);if(l.selectionEnd>l.selectionStart&&l.selectionEnd-l.selectionStart===String(l.currentLooseValue).length){const C=L.numberSymbols(),D=C&&d.key===C.minusSign,Lt=C&&d.key===C.decimal;ie.current=!D&&!Lt;return}switch(d.keyCode){case 38:Je(z,l,p,b,v,c,L);break;case 40:Ue(z,l,p,b,v,c,L);break;case 13:{if(Fe===!1)return;const C=y(W(z,b,v),c,L),D=W(L.parseNumber(C,c),b,v);l.eventValue=D,l.currentLooseValue=y(D,c,L),l.selectionStart=l.selectionEnd=l.currentLooseValue.length;break}case 110:{const C=V.current,D=L.numberSymbols();C&&(l.currentLooseValue=l.currentLooseValue.slice(0,l.selectionStart)+D.decimal+l.currentLooseValue.slice(l.selectionEnd),l.selectionStart=l.selectionEnd=l.selectionStart+1,l=Xe(l,c,L));break}default:return}d.preventDefault(),F(d,l)},[c,b,v,p,I,Fe,F,M]),gt=i.useCallback(()=>{ie.current=!0},[]),Ee=i.useCallback(d=>{if(E||s)return;const l=M();Je(L.parseNumber(String(l.currentLooseValue),c),l,p,b,v,c,L),F(d,l)},[c,b,v,p,I,E,s,F,M]),Oe=i.useCallback(d=>{if(E||s)return;const l=M();Ue(L.parseNumber(String(l.currentLooseValue),c),l,p,b,v,c,L),F(d,l)},[c,b,v,p,I,E,s,F,M]),pt=i.useCallback(d=>{const l=Ke(document);!document||l!==V.current||!V.current||E||s||(d.nativeEvent.deltaY<0&&Ee(d),d.nativeEvent.deltaY>0&&Oe(d))},[Ee,Oe,s,E]),bt=i.useCallback(d=>{x.current.currentLooseValue=ye.current,x.current.focused=!0,ke(U,d,q(),{}),T(l=>!l)},[U,T,q]),vt=i.useCallback(d=>{x.current=Ge(),ke(_,d,q(),{}),T(l=>!l)},[_,T,q]),Vt=i.useCallback(d=>{if(document&&V.current){const l=Ke(document);d.preventDefault(),l!==V.current&&V.current.focus()}},[]);xt(()=>{V.current&&V.current.type!=="number"&&x.current.selectionStart!==void 0&&x.current.selectionEnd!==void 0&&(V.current.selectionStart=x.current.selectionStart,V.current.selectionEnd=x.current.selectionEnd,x.current.selectionStart=void 0,x.current.selectionEnd=void 0)},[it]);const ze=!xe()||me().valid,Ae=i.createElement("span",{dir:R,style:P?le:{width:u,...le},className:Et("k-input","k-numerictextbox",{[`k-input-${Te.sizeMap[he]||he}`]:he,[`k-input-${ae}`]:ae,[`k-rounded-${Te.roundedMap[Se]||Se}`]:Se,"k-invalid":!ze,"k-required":g,"k-disabled":s},e),"aria-disabled":s?"true":void 0,...P?{}:De},i.createElement(ct,null),i.createElement("input",{role:"spinbutton",value:Z===null?"":Z,tabIndex:It(f,s),accessKey:h,disabled:s,title:j,"aria-disabled":s?"true":void 0,"aria-valuemin":b,"aria-valuemax":v,"aria-label":re,"aria-labelledby":w,"aria-describedby":te,"aria-required":g,placeholder:A,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:at,type:ne||"tel",className:"k-input-inner",id:je,name:Y,readOnly:E,style:H,onChange:mt,onFocus:bt,onBlur:vt,onKeyDown:ft,onPaste:gt,onWheel:pt,ref:V,...ot}),i.createElement(dt,null),Le,B&&i.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:Vt},i.createElement(We,{tabIndex:-1,type:"button",icon:"caret-alt-up",svgIcon:Ot,rounded:null,fillMode:ae,className:"k-spinner-increase","aria-label":oe.toLanguageString(fe,ge[fe]),title:oe.toLanguageString(fe,ge[fe]),onClick:Ee}),i.createElement(We,{tabIndex:-1,type:"button",icon:"caret-alt-down",svgIcon:kt,rounded:null,fillMode:ae,className:"k-spinner-decrease","aria-label":oe.toLanguageString(pe,ge[pe]),title:oe.toLanguageString(pe,ge[pe]),onClick:Oe})));return P?i.createElement($t,{label:P,editorId:je,editorValue:Z===null?"":Z,editorValid:ze,editorDisabled:s,editorPlaceholder:A,children:Ae,style:{width:u},dir:R,...De}):Ae});ut.propTypes={value:o.number,defaultValue:o.number,step:o.number,format:o.oneOfType([o.string,o.shape({style:o.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:o.string,currencyDisplay:o.oneOf(["symbol","code","name"]),useGrouping:o.bool,minimumIntegerDigits:o.number,minimumFractionDigits:o.number,maximumFractionDigits:o.number})]),width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,title:o.string,placeholder:o.string,min:o.number,max:o.number,spinners:o.bool,disabled:o.bool,readOnly:o.bool,dir:o.string,name:o.string,label:o.string,validationMessage:o.string,required:o.bool,id:o.string,rangeOnEnter:o.bool,ariaLabelledBy:o.string,ariaDescribedBy:o.string,ariaLabel:o.string,onChange:o.func,onFocus:o.func,onBlur:o.func,size:o.oneOf([null,"small","medium","large"]),rounded:o.oneOf([null,"small","medium","large","full"]),fillMode:o.oneOf([null,"solid","flat","outline"]),inputAttributes:o.object};const S={prefix:t=>null,suffix:t=>null,step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,autoFocus:!1,onChange:t=>{},onFocus:t=>{},onBlur:t=>{},size:"medium",rounded:"medium",fillMode:"solid"};ut.displayName="KendoNumericTextBox";export{ut as E};
