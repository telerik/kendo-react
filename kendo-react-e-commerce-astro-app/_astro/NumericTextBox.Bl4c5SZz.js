import{r as i}from"./index.Brq2tt8m.js";import{V as ht,I as St,R as ke,aq as Ke,W as yt,n as xt,g as Te,ap as Et,ao as Ot,F as kt,z as We,e as o}from"./languageStore.Bi5B9sZ5.js";import{i as Ct}from"./useInternationalization.DwrUkQGF.js";import{i as Nt}from"./index.BVMqvtH0.js";import{e as It}from"./getTabIndex.DyyoPw_c.js";import{s as Ye}from"./useCustomComponent.FHTMAplH.js";import{I as $t}from"./FloatingLabel.DJVBXmiB.js";import{o as me,I as ge,e as pe}from"./index.zQUBlHq1.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ve=11111111111111e-7,Rt=.31111111111111117,wt=1,et=1,tt=0,N=/\d/,rt=15,Ge=()=>({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),Ce=(t,r)=>t!==void 0?t:r,y=(t,r,n)=>t===null&&t===void 0?"":typeof t=="string"?t:n.formatNumber(t,r),He=t=>(String(t).split(".")[1]||"").length,nt=(t,r)=>Math.max(He(t),He(r)),Ft=t=>Math.min(t,rt),lt=(t,r)=>{const n=Ft(r);return parseFloat(t.toFixed(n))},Ue=(t,r,n,e,f,u,c)=>{const a=nt(t||0,n||0),m=W(lt((t||0)+(n||0),a),e,f);r.eventValue=m,r.currentLooseValue=y(m,u,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},Je=(t,r,n,e,f,u,c)=>{const a=nt(t||0,n||0),m=W(lt((t||0)-(n||0),a),e,f);r.eventValue=m,r.currentLooseValue=y(m,u,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},W=(t,r,n)=>t==null?t:!(t>1||t<1||t===1)||n!==void 0&&r!==void 0&&n<r?null:(n!==void 0&&t>n&&(t=n),r!==void 0&&t<r&&(t=r),t),Mt=(t,r)=>{const n=r.findIndex(([f,u])=>!!u&&t.indexOf(u)===t.length-u.length);if(n===-1)return-1;const e=r[n][1];return t.length-e.length},Dt=(t,r)=>{const n=r.findIndex(([e,f])=>!!e&&t.indexOf(e)===0);return n===-1?-1:r[n][0].length},jt=(t,r,n)=>{const e=Mt(t,r);if(e!==-1&&n.selectionStart>e){n.selectionStart=n.selectionEnd=e;return}n.selectionStart>t.length&&(n.selectionStart=n.selectionEnd=t.length);const f=Dt(t,r);f!==-1&&n.selectionStart<f&&(n.selectionStart=n.selectionEnd=f),n.selectionStart===-1&&(n.selectionStart=n.selectionEnd=0)},$=(t,r,n,e)=>{t.selectionStart=t.selectionEnd=r,jt(n,e,t)},_e=(t,r,n,e)=>{t.eventValue=e.parseNumber(t.prevLooseValue,r),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,$(t,t.selectionStart,t.currentLooseValue,n)},Ne=(t,r,n)=>r.split(t).length!==n.split(t).length&&r.length===n.length+t.length,Pt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return Ne(r.minusSign,n,e)||Ne("-",n,e)||Ne("−",n,e)},Bt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return n.indexOf(r.minusSign)===-1&&e.indexOf(r.minusSign)!==-1},qt=(t,r)=>String(t.currentLooseValue).split(r.decimal).length>2,zt=(t,r)=>{const n=r.formatNumber(Ve,t),e=r.formatNumber(-Ve,t),f=r.formatNumber(tt,t),u=r.formatNumber(et,t),c=be(n),a=be(e),m=be(f),h=be(u),j=ve(n),A=ve(e),b=ve(f),v=ve(u);return{positiveInfo:[c,j],negativeInfo:[a,A],zeroInfo:[m,b],oneInfo:[h,v]}},At=(t,r)=>{const n=r.formatNumber(Ve,t),e=r.formatNumber(-Ve,t),f=r.formatNumber(tt,t),u=r.formatNumber(et,t),c=r.numberSymbols(),a=new RegExp(`[\\d\\${c.decimal}${c.group}]`,"g");return[n,e,f,u].map(m=>m.replace(a,"")).join("").split("").filter((m,h,j)=>j.indexOf(m)===h).join("")},Ie=(t,r)=>{const n=t.indexOf(r.decimal);return n>-1?n:X(t,N)},Re=t=>t.split("").reverse().join(""),X=(t,r)=>t.length-Re(t).search(r),be=t=>t.split(t[t.search(N)])[0],ve=t=>{const r=Re(t);return Re(r.split(r[r.search(N)])[0])},$e=(t,r)=>t.search(r),Qe=(t,r)=>{const n=t.indexOf(r);return n>-1?t.length-n-1:0},Ze=(t,r,n,e,f)=>{const u=t.replace(f,"")[0]==="0",c=r.replace(f,"")[0]==="0";if(u&&!c)return n-1;if(c&&e)return n+1;let a=0;for(let h=0;h<n;h++)N.test(t.charAt(h))&&a++;let m=0;for(;a>0&&r.length>m;)N.test(r.charAt(m))&&a--,m++;return m},Xe=(t,r,n)=>{const e={...t},{prevLooseValue:f}=e,u=n.numberSymbols(),c=At(r,n),a=String(e.currentLooseValue),m=String(f),h=new RegExp(`[^\\d\\${u.decimal}]`,"g"),j=new RegExp(`[^\\d\\${u.decimal}\\${u.group}]`,"g"),A=new RegExp(`[\\d\\${u.decimal}\\${u.group}]`),b=a.replace(h,""),v=$e(a,N),R=v===-1?-1:X(a,N),Y=a.indexOf(u.decimal),P=(a.substring(0,v)+a.substring(v,R).replace(j,"")+a.substring(R,a.length)).split("").filter(p=>c.indexOf(p)!==-1||p.search(A)!==-1).join(""),ee=n.formatNumber(Rt,r).replace(h,""),te=ee.indexOf(u.decimal),w=te>-1?ee.length-te-1:0,re=n.formatNumber(wt,r).replace(h,""),ne=re.indexOf(u.decimal),E=ne>-1?re.length-ne-1:0,{positiveInfo:G,negativeInfo:Le,zeroInfo:we,oneInfo:Fe}=zt(r,n),O=[G,Le,we,Fe],le=O.findIndex(p=>p.findIndex(B=>!!B)!==-1)!==1,H=a.length>0&&a.length<m.length,K=typeof r=="string"&&r[0]==="p"&&a&&a.indexOf(u.percentSign)===-1;if(!e.isPaste){if(a==="")return e.eventValue=null,e.currentLooseValue="",e;if(e.currentLooseValue===u.minusSign&&n.formatNumber(-0,r)!==m)return e.eventValue=-0,e.currentLooseValue=y(e.eventValue,r,n),$(e,Ie(e.currentLooseValue,u),e.currentLooseValue,O),e;if(e.currentLooseValue===u.decimal){e.eventValue=0;const s=y(e.eventValue,r,n);if(E===0&&w>0){const g=X(s,N);e.currentLooseValue=s.substring(0,g)+u.decimal+s.substring(g)}else e.currentLooseValue=s;return $(e,Ie(e.currentLooseValue,u)+1,e.currentLooseValue,O),e}if(Pt(e,u)){const s=n.parseNumber(f,r);e.eventValue=-(s!==null?s:0),e.currentLooseValue=y(e.eventValue,r,n);const g=$e(e.currentLooseValue,N),k=$e(m,N);return $(e,e.selectionEnd-1+(g-k),e.currentLooseValue,O),e}if(Bt(e,u))return e.eventValue=n.parseNumber(e.currentLooseValue,r),$(e,e.selectionStart,e.currentLooseValue,O),e;if(qt(e,u))return _e(e,r,O,n),e;if(K)return e.eventValue=n.parseNumber(a,r)/100,e.currentLooseValue=y(e.eventValue,r,n),e;if(String(e.currentLooseValue).replace(/[^\d]/g,"").length>rt||b!==a&&a&&le&&O.findIndex(([s,g])=>{const k=a.indexOf(s),U=a.indexOf(g),ae=k===0,I=U===a.length-g.length,J=k+s.length!==v&&v!==-1&&a[k+s.length]!==u.decimal,_=U!==R&&R!==-1&&a[U-1]!==u.decimal;return s&&g?J||_?!1:ae&&I:s?J?!1:ae:g?_?!1:I:!1})===-1)return _e(e,r,O,n),e;if(b[b.length-1]===u.decimal&&w>0)return e.eventValue=n.parseNumber(a,r),e.currentLooseValue=P,e;if(e.currentLooseValue&&f&&(c+u.decimal+u.group).split("").findIndex(s=>a.split("").filter(g=>g===s).length<m.split("").filter(g=>g===s).length&&a.length+1===m.length?!(s===u.decimal&&Qe(m.replace(h,""),u.decimal)===0):!1)>-1)return e.eventValue=n.parseNumber(t.prevLooseValue,r),e.currentLooseValue=t.prevLooseValue,e;const p=Qe(b,u.decimal),B=b[b.length-1]==="0";if(H&&B&&p<E)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e;if(p>0){const s=a.substring(0,Y);if(B&&(!s||m.indexOf(s)!==0)){e.eventValue=n.parseNumber(e.currentLooseValue,r);const g=y(e.eventValue,r,n);return $(e,Ze(a,g,e.selectionEnd,H,h),g,O),e.currentLooseValue=g,e}if(p>w){const g=a.indexOf(u.decimal),k=a.substring(0,g)+a.substring(g,g+1+w)+a.substring(R,String(e.currentLooseValue).length);return e.eventValue=n.parseNumber(k,r),e.currentLooseValue=k,$(e,e.selectionStart,k,O),e}if(E!==w&&p<=w&&B)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=P,e;if(p<E)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e}}if(e.eventValue=n.parseNumber(e.currentLooseValue,r),K&&(e.eventValue=e.eventValue/100),typeof e.eventValue=="number"){const p=y(e.eventValue,r,n);a.length===1?$(e,Ie(p,u),p,O):$(e,Ze(a,p,e.selectionEnd,H,h),p,O),e.currentLooseValue=p}else e.currentLooseValue=y(n.parseNumber(b),r,n);return e};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Kt="Please enter a valid value!",Tt=kt(),at=i.forwardRef((t,r)=>{const n=ht(Tt,t),{className:e,value:f,defaultValue:u,format:c,width:a,tabIndex:m,accessKey:h,title:j,placeholder:A,min:b,max:v,dir:R,name:Y,label:P,id:ee,ariaDescribedBy:te,ariaLabelledBy:w,ariaLabel:re,inputType:ne,readOnly:E,validationMessage:G,children:Le,touched:we,visited:Fe,modified:O,style:le,inputStyle:H,valid:K,step:p=S.step,spinners:B=S.spinners,disabled:s=S.disabled,required:g=S.required,validityStyles:k=S.validityStyles,prefix:U=S.prefix,suffix:ae=S.suffix,onChange:I=S.onChange,onFocus:J=S.onFocus,onBlur:_=S.onBlur,rangeOnEnter:Me=S.rangeOnEnter,size:he=S.size,rounded:Se=S.rounded,fillMode:ue=S.fillMode,autoFocus:ut=S.autoFocus,inputAttributes:ot,...De}=n,st=St(),je=ee||st,L=Ct(),oe=Nt(),V=i.useRef(null),se=i.useRef(void 0),[it,T]=i.useState(!1),x=i.useRef(Ge()),ie=i.useRef(!1),ye=i.useRef(void 0),Q=i.useRef(u),Z=y(x.current.focused&&!s?x.current.currentLooseValue:Ce(f,Q.current),c,L);ye.current=Z;const[ct]=Ye(U),[dt]=Ye(ae);i.useEffect(()=>{V.current&&V.current.setCustomValidity&&V.current.setCustomValidity(fe().valid?"":G||Kt)});const Pe=i.useCallback(()=>{V.current&&V.current.focus()},[]),ce=i.useCallback(()=>se.current!==void 0?se.current:Ce(f,Q.current),[f]),Be=i.useCallback(()=>Y,[Y]),de=i.useCallback(()=>g,[g]),fe=i.useCallback(()=>{const d=G!==void 0,l=ce(),z=K!==void 0?K:!x.current.valueIsOutOfRange&&(!de()||l!=null);return{customError:d,valid:z,valueMissing:l==null}},[G,K,ce,de]),xe=i.useCallback(()=>k,[k]),qe=i.useCallback(()=>n,[n]),q=i.useCallback(()=>{const d={element:V.current,focus:Pe};return Object.defineProperty(d,"name",{get:Be}),Object.defineProperty(d,"value",{get:ce}),Object.defineProperty(d,"validity",{get:fe}),Object.defineProperty(d,"validityStyles",{get:xe}),Object.defineProperty(d,"required",{get:de}),Object.defineProperty(d,"props",{get:qe}),d},[Be,ce,fe,xe,de,Pe,qe]);i.useImperativeHandle(r,q);const F=i.useCallback(()=>({eventValue:Ce(f,Q.current),prevLooseValue:ye.current,currentLooseValue:V.current.value,selectionStart:V.current.selectionStart,selectionEnd:V.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:ie.current,focused:x.current.focused}),[f]),M=i.useCallback((d,l)=>{if(s)return;se.current=l.eventValue,Q.current=l.eventValue;const z=y(W(l.eventValue,b,v),c,L),C=W(L.parseNumber(z,c),b,v);C!==l.eventValue&&(l.valueIsOutOfRange=!0,l.eventValue=C,Q.current=C),f!==l.eventValue&&ke(I,d,q(),{value:l.eventValue}),se.current=void 0,x.current=l,T(D=>!D)},[f,I,s,T,q]),ft=i.useCallback(d=>{const l=F();ie.current=!1,M(d,Xe(l,c,L))},[c,I,L,M,F]),mt=i.useCallback(d=>{if(E||s)return;let l=F();const z=L.parseNumber(String(l.currentLooseValue),c);if(l.selectionEnd>l.selectionStart&&l.selectionEnd-l.selectionStart===String(l.currentLooseValue).length){const C=L.numberSymbols(),D=C&&d.key===C.minusSign,Lt=C&&d.key===C.decimal;ie.current=!D&&!Lt;return}switch(d.keyCode){case 38:Ue(z,l,p,b,v,c,L);break;case 40:Je(z,l,p,b,v,c,L);break;case 13:{if(Me===!1)return;const C=y(W(z,b,v),c,L),D=W(L.parseNumber(C,c),b,v);l.eventValue=D,l.currentLooseValue=y(D,c,L),l.selectionStart=l.selectionEnd=l.currentLooseValue.length;break}case 110:{const C=V.current,D=L.numberSymbols();C&&(l.currentLooseValue=l.currentLooseValue.slice(0,l.selectionStart)+D.decimal+l.currentLooseValue.slice(l.selectionEnd),l.selectionStart=l.selectionEnd=l.selectionStart+1,l=Xe(l,c,L));break}default:return}d.preventDefault(),M(d,l)},[c,b,v,p,I,Me,M,F]),gt=i.useCallback(()=>{ie.current=!0},[]),Ee=i.useCallback(d=>{if(E||s)return;const l=F();Ue(L.parseNumber(String(l.currentLooseValue),c),l,p,b,v,c,L),M(d,l)},[c,b,v,p,I,E,s,M,F]),Oe=i.useCallback(d=>{if(E||s)return;const l=F();Je(L.parseNumber(String(l.currentLooseValue),c),l,p,b,v,c,L),M(d,l)},[c,b,v,p,I,E,s,M,F]),pt=i.useCallback(d=>{const l=Ke(document);!document||l!==V.current||!V.current||E||s||(d.nativeEvent.deltaY<0&&Ee(d),d.nativeEvent.deltaY>0&&Oe(d))},[Ee,Oe,s,E]),bt=i.useCallback(d=>{x.current.currentLooseValue=ye.current,x.current.focused=!0,ke(J,d,q(),{}),T(l=>!l)},[J,T,q]),vt=i.useCallback(d=>{x.current=Ge(),ke(_,d,q(),{}),T(l=>!l)},[_,T,q]),Vt=i.useCallback(d=>{if(document&&V.current){const l=Ke(document);d.preventDefault(),l!==V.current&&V.current.focus()}},[]);yt(()=>{V.current&&V.current.type!=="number"&&x.current.selectionStart!==void 0&&x.current.selectionEnd!==void 0&&(V.current.selectionStart=x.current.selectionStart,V.current.selectionEnd=x.current.selectionEnd,x.current.selectionStart=void 0,x.current.selectionEnd=void 0)},[it]);const ze=!xe()||fe().valid,Ae=i.createElement("span",{dir:R,style:P?le:{width:a,...le},className:xt("k-input","k-numerictextbox",{[`k-input-${We.sizeMap[he]||he}`]:he,[`k-input-${ue}`]:ue,[`k-rounded-${We.roundedMap[Se]||Se}`]:Se,"k-invalid":!ze,"k-required":g,"k-disabled":s},e),"aria-disabled":s?"true":void 0,...P?{}:De},i.createElement(ct,null),i.createElement("input",{role:"spinbutton",value:Z===null?"":Z,tabIndex:It(m,s),accessKey:h,disabled:s,title:j,"aria-disabled":s?"true":void 0,"aria-valuemin":b,"aria-valuemax":v,"aria-label":re,"aria-labelledby":w,"aria-describedby":te,"aria-required":g,placeholder:A,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:ut,type:ne||"tel",className:"k-input-inner",id:je,name:Y,readOnly:E,style:H,onChange:ft,onFocus:bt,onBlur:vt,onKeyDown:mt,onPaste:gt,onWheel:pt,ref:V,...ot}),i.createElement(dt,null),Le,B&&i.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:Vt},i.createElement(Te,{tabIndex:-1,type:"button",icon:"caret-alt-up",svgIcon:Et,rounded:null,fillMode:ue,className:"k-spinner-increase","aria-label":oe.toLanguageString(me,ge[me]),title:oe.toLanguageString(me,ge[me]),onClick:Ee}),i.createElement(Te,{tabIndex:-1,type:"button",icon:"caret-alt-down",svgIcon:Ot,rounded:null,fillMode:ue,className:"k-spinner-decrease","aria-label":oe.toLanguageString(pe,ge[pe]),title:oe.toLanguageString(pe,ge[pe]),onClick:Oe})));return P?i.createElement($t,{label:P,editorId:je,editorValue:Z===null?"":Z,editorValid:ze,editorDisabled:s,editorPlaceholder:A,children:Ae,style:{width:a},dir:R,...De}):Ae});at.propTypes={value:o.number,defaultValue:o.number,step:o.number,format:o.oneOfType([o.string,o.shape({style:o.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:o.string,currencyDisplay:o.oneOf(["symbol","code","name"]),useGrouping:o.bool,minimumIntegerDigits:o.number,minimumFractionDigits:o.number,maximumFractionDigits:o.number})]),width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,title:o.string,placeholder:o.string,min:o.number,max:o.number,spinners:o.bool,disabled:o.bool,readOnly:o.bool,dir:o.string,name:o.string,label:o.string,validationMessage:o.string,required:o.bool,id:o.string,rangeOnEnter:o.bool,ariaLabelledBy:o.string,ariaDescribedBy:o.string,ariaLabel:o.string,onChange:o.func,onFocus:o.func,onBlur:o.func,size:o.oneOf([null,"small","medium","large"]),rounded:o.oneOf([null,"small","medium","large","full"]),fillMode:o.oneOf([null,"solid","flat","outline"]),inputAttributes:o.object};const S={prefix:t=>null,suffix:t=>null,step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,autoFocus:!1,onChange:t=>{},onFocus:t=>{},onBlur:t=>{},size:"medium",rounded:"medium",fillMode:"solid"};at.displayName="KendoNumericTextBox";export{at as E};
