import{r as s}from"./index.B76fyJ3R.js";import{l as ht,m as St,R as ke,ab as Ke,U as yt,r as xt,C as Te,B as Ue,a6 as Et,a5 as Ot,e as o}from"./languageStore.DlX6y5fL.js";import{e as kt}from"./useInternationalization.DGwr8gQ0.js";import{a as Ct}from"./package-metadata.wC0jsHLg.js";import{n as Nt,a as It,o as $t}from"./withPropsContext.Dha37Zov.js";import{e as Rt,s as Ye}from"./package-metadata.C4CW6q58.js";import{R as wt}from"./FloatingLabel.B8ypVFaG.js";import{e as fe,I as ge,o as pe}from"./index.BnS_ZXeL.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const ve=11111111111111e-7,Ft=.31111111111111117,Mt=1,et=1,tt=0,N=/\d/,rt=15,Ge=()=>({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),Ce=(t,r)=>t!==void 0?t:r,y=(t,r,n)=>t===null&&t===void 0?"":typeof t=="string"?t:n.formatNumber(t,r),He=t=>(String(t).split(".")[1]||"").length,nt=(t,r)=>Math.max(He(t),He(r)),Bt=t=>Math.min(t,rt),lt=(t,r)=>{const n=Bt(r);return parseFloat(t.toFixed(n))},We=(t,r,n,e,m,a,c)=>{const u=nt(t||0,n||0),f=U(lt((t||0)+(n||0),u),e,m);r.eventValue=f,r.currentLooseValue=y(f,a,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},Je=(t,r,n,e,m,a,c)=>{const u=nt(t||0,n||0),f=U(lt((t||0)-(n||0),u),e,m);r.eventValue=f,r.currentLooseValue=y(f,a,c),r.selectionStart=r.selectionEnd=X(r.currentLooseValue,N)},U=(t,r,n)=>t==null?t:!(t>1||t<1||t===1)||n!==void 0&&r!==void 0&&n<r?null:(n!==void 0&&t>n&&(t=n),r!==void 0&&t<r&&(t=r),t),Dt=(t,r)=>{const n=r.findIndex(([m,a])=>!!a&&t.indexOf(a)===t.length-a.length);if(n===-1)return-1;const e=r[n][1];return t.length-e.length},jt=(t,r)=>{const n=r.findIndex(([e,m])=>!!e&&t.indexOf(e)===0);return n===-1?-1:r[n][0].length},Pt=(t,r,n)=>{const e=Dt(t,r);if(e!==-1&&n.selectionStart>e){n.selectionStart=n.selectionEnd=e;return}n.selectionStart>t.length&&(n.selectionStart=n.selectionEnd=t.length);const m=jt(t,r);m!==-1&&n.selectionStart<m&&(n.selectionStart=n.selectionEnd=m),n.selectionStart===-1&&(n.selectionStart=n.selectionEnd=0)},$=(t,r,n,e)=>{t.selectionStart=t.selectionEnd=r,Pt(n,e,t)},_e=(t,r,n,e)=>{t.eventValue=e.parseNumber(t.prevLooseValue,r),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,$(t,t.selectionStart,t.currentLooseValue,n)},Ne=(t,r,n)=>r.split(t).length!==n.split(t).length&&r.length===n.length+t.length,qt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return Ne(r.minusSign,n,e)||Ne("-",n,e)||Ne("−",n,e)},zt=(t,r)=>{const n=String(t.currentLooseValue),e=String(t.prevLooseValue);return n.indexOf(r.minusSign)===-1&&e.indexOf(r.minusSign)!==-1},At=(t,r)=>String(t.currentLooseValue).split(r.decimal).length>2,Kt=(t,r)=>{const n=r.formatNumber(ve,t),e=r.formatNumber(-ve,t),m=r.formatNumber(tt,t),a=r.formatNumber(et,t),c=be(n),u=be(e),f=be(m),h=be(a),D=Ve(n),A=Ve(e),b=Ve(m),V=Ve(a);return{positiveInfo:[c,D],negativeInfo:[u,A],zeroInfo:[f,b],oneInfo:[h,V]}},Tt=(t,r)=>{const n=r.formatNumber(ve,t),e=r.formatNumber(-ve,t),m=r.formatNumber(tt,t),a=r.formatNumber(et,t),c=r.numberSymbols(),u=new RegExp(`[\\d\\${c.decimal}${c.group}]`,"g");return[n,e,m,a].map(f=>f.replace(u,"")).join("").split("").filter((f,h,D)=>D.indexOf(f)===h).join("")},Ie=(t,r)=>{const n=t.indexOf(r.decimal);return n>-1?n:X(t,N)},Re=t=>t.split("").reverse().join(""),X=(t,r)=>t.length-Re(t).search(r),be=t=>t.split(t[t.search(N)])[0],Ve=t=>{const r=Re(t);return Re(r.split(r[r.search(N)])[0])},$e=(t,r)=>t.search(r),Qe=(t,r)=>{const n=t.indexOf(r);return n>-1?t.length-n-1:0},Ze=(t,r,n,e,m)=>{const a=t.replace(m,"")[0]==="0",c=r.replace(m,"")[0]==="0";if(a&&!c)return n-1;if(c&&e)return n+1;let u=0;for(let h=0;h<n;h++)N.test(t.charAt(h))&&u++;let f=0;for(;u>0&&r.length>f;)N.test(r.charAt(f))&&u--,f++;return f},Xe=(t,r,n)=>{const e={...t},{prevLooseValue:m}=e,a=n.numberSymbols(),c=Tt(r,n),u=String(e.currentLooseValue),f=String(m),h=new RegExp(`[^\\d\\${a.decimal}]`,"g"),D=new RegExp(`[^\\d\\${a.decimal}\\${a.group}]`,"g"),A=new RegExp(`[\\d\\${a.decimal}\\${a.group}]`),b=u.replace(h,""),V=$e(u,N),R=V===-1?-1:X(u,N),Y=u.indexOf(a.decimal),j=(u.substring(0,V)+u.substring(V,R).replace(D,"")+u.substring(R,u.length)).split("").filter(p=>c.indexOf(p)!==-1||p.search(A)!==-1).join(""),ee=n.formatNumber(Ft,r).replace(h,""),te=ee.indexOf(a.decimal),w=te>-1?ee.length-te-1:0,re=n.formatNumber(Mt,r).replace(h,""),ne=re.indexOf(a.decimal),O=ne>-1?re.length-ne-1:0,{positiveInfo:G,negativeInfo:Le,zeroInfo:we,oneInfo:Fe}=Kt(r,n),E=[G,Le,we,Fe],le=E.findIndex(p=>p.findIndex(P=>!!P)!==-1)!==1,H=u.length>0&&u.length<f.length,K=typeof r=="string"&&r[0]==="p"&&u&&u.indexOf(a.percentSign)===-1;if(!e.isPaste){if(u==="")return e.eventValue=null,e.currentLooseValue="",e;if(e.currentLooseValue===a.minusSign&&n.formatNumber(-0,r)!==f)return e.eventValue=-0,e.currentLooseValue=y(e.eventValue,r,n),$(e,Ie(e.currentLooseValue,a),e.currentLooseValue,E),e;if(e.currentLooseValue===a.decimal){e.eventValue=0;const i=y(e.eventValue,r,n);if(O===0&&w>0){const g=X(i,N);e.currentLooseValue=i.substring(0,g)+a.decimal+i.substring(g)}else e.currentLooseValue=i;return $(e,Ie(e.currentLooseValue,a)+1,e.currentLooseValue,E),e}if(qt(e,a)){const i=n.parseNumber(m,r);e.eventValue=-(i!==null?i:0),e.currentLooseValue=y(e.eventValue,r,n);const g=$e(e.currentLooseValue,N),k=$e(f,N);return $(e,e.selectionEnd-1+(g-k),e.currentLooseValue,E),e}if(zt(e,a))return e.eventValue=n.parseNumber(e.currentLooseValue,r),$(e,e.selectionStart,e.currentLooseValue,E),e;if(At(e,a))return _e(e,r,E,n),e;if(K)return e.eventValue=n.parseNumber(u,r)/100,e.currentLooseValue=y(e.eventValue,r,n),e;if(String(e.currentLooseValue).replace(/[^\d]/g,"").length>rt||b!==u&&u&&le&&E.findIndex(([i,g])=>{const k=u.indexOf(i),W=u.indexOf(g),ue=k===0,I=W===u.length-g.length,J=k+i.length!==V&&V!==-1&&u[k+i.length]!==a.decimal,_=W!==R&&R!==-1&&u[W-1]!==a.decimal;return i&&g?J||_?!1:ue&&I:i?J?!1:ue:g?_?!1:I:!1})===-1)return _e(e,r,E,n),e;if(b[b.length-1]===a.decimal&&w>0)return e.eventValue=n.parseNumber(u,r),e.currentLooseValue=j,e;if(e.currentLooseValue&&m&&(c+a.decimal+a.group).split("").findIndex(i=>u.split("").filter(g=>g===i).length<f.split("").filter(g=>g===i).length&&u.length+1===f.length?!(i===a.decimal&&Qe(f.replace(h,""),a.decimal)===0):!1)>-1)return e.eventValue=n.parseNumber(t.prevLooseValue,r),e.currentLooseValue=t.prevLooseValue,e;const p=Qe(b,a.decimal),P=b[b.length-1]==="0";if(H&&P&&p<O)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e;if(p>0){const i=u.substring(0,Y);if(P&&(!i||f.indexOf(i)!==0)){e.eventValue=n.parseNumber(e.currentLooseValue,r);const g=y(e.eventValue,r,n);return $(e,Ze(u,g,e.selectionEnd,H,h),g,E),e.currentLooseValue=g,e}if(p>w){const g=u.indexOf(a.decimal),k=u.substring(0,g)+u.substring(g,g+1+w)+u.substring(R,String(e.currentLooseValue).length);return e.eventValue=n.parseNumber(k,r),e.currentLooseValue=k,$(e,e.selectionStart,k,E),e}if(O!==w&&p<=w&&P)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=j,e;if(p<O)return e.eventValue=n.parseNumber(e.currentLooseValue,r),e.currentLooseValue=y(e.eventValue,r,n),e}}if(e.eventValue=n.parseNumber(e.currentLooseValue,r),K&&(e.eventValue=e.eventValue/100),typeof e.eventValue=="number"){const p=y(e.eventValue,r,n);u.length===1?$(e,Ie(p,a),p,E):$(e,Ze(u,p,e.selectionEnd,H,h),p,E),e.currentLooseValue=p}else e.currentLooseValue=y(n.parseNumber(b),r,n);return e};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ut="Please enter a valid value!",Yt=It(),ut=s.forwardRef((t,r)=>{ht(Rt);const n=Nt(Yt,t),{className:e,value:m,defaultValue:a,format:c,width:u,tabIndex:f,accessKey:h,title:D,placeholder:A,min:b,max:V,dir:R,name:Y,label:j,id:ee,ariaDescribedBy:te,ariaLabelledBy:w,ariaLabel:re,inputType:ne,readOnly:O,validationMessage:G,children:Le,touched:we,visited:Fe,modified:E,style:le,inputStyle:H,valid:K,step:p=S.step,spinners:P=S.spinners,disabled:i=S.disabled,required:g=S.required,validityStyles:k=S.validityStyles,prefix:W=S.prefix,suffix:ue=S.suffix,onChange:I=S.onChange,onFocus:J=S.onFocus,onBlur:_=S.onBlur,rangeOnEnter:Me=S.rangeOnEnter,size:he=S.size,rounded:Se=S.rounded,fillMode:ae=S.fillMode,autoFocus:at=S.autoFocus,inputAttributes:ot,...Be}=n,st=St(),De=ee||st,L=kt(),oe=Ct(),v=s.useRef(null),se=s.useRef(),[it,T]=s.useState(!1),x=s.useRef(Ge()),ie=s.useRef(!1),ye=s.useRef(),Q=s.useRef(a),Z=y(x.current.focused&&!i?x.current.currentLooseValue:Ce(m,Q.current),c,L);ye.current=Z;const[ct]=Ye(W),[dt]=Ye(ue);s.useEffect(()=>{v.current&&v.current.setCustomValidity&&v.current.setCustomValidity(me().valid?"":G||Ut)});const je=s.useCallback(()=>{v.current&&v.current.focus()},[]),ce=s.useCallback(()=>se.current!==void 0?se.current:Ce(m,Q.current),[m]),Pe=s.useCallback(()=>Y,[Y]),de=s.useCallback(()=>g,[g]),me=s.useCallback(()=>{const d=G!==void 0,l=ce(),z=K!==void 0?K:!x.current.valueIsOutOfRange&&(!de()||l!=null);return{customError:d,valid:z,valueMissing:l==null}},[G,K,ce,de]),xe=s.useCallback(()=>k,[k]),qe=s.useCallback(()=>n,[n]),q=s.useCallback(()=>{const d={element:v.current,focus:je};return Object.defineProperty(d,"name",{get:Pe}),Object.defineProperty(d,"value",{get:ce}),Object.defineProperty(d,"validity",{get:me}),Object.defineProperty(d,"validityStyles",{get:xe}),Object.defineProperty(d,"required",{get:de}),Object.defineProperty(d,"props",{get:qe}),d},[Pe,ce,me,xe,de,je,qe]);s.useImperativeHandle(r,q);const F=s.useCallback(()=>({eventValue:Ce(m,Q.current),prevLooseValue:ye.current,currentLooseValue:v.current.value,selectionStart:v.current.selectionStart,selectionEnd:v.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:ie.current,focused:x.current.focused}),[m]),M=s.useCallback((d,l)=>{if(i)return;se.current=l.eventValue,Q.current=l.eventValue;const z=y(U(l.eventValue,b,V),c,L),C=U(L.parseNumber(z,c),b,V);C!==l.eventValue&&(l.valueIsOutOfRange=!0,l.eventValue=C,Q.current=C),m!==l.eventValue&&ke(I,d,q(),{value:l.eventValue}),se.current=void 0,x.current=l,T(B=>!B)},[m,I,i,T,q]),mt=s.useCallback(d=>{const l=F();ie.current=!1,M(d,Xe(l,c,L))},[c,I,L,M,F]),ft=s.useCallback(d=>{let l=F();const z=L.parseNumber(String(l.currentLooseValue),c);if(l.selectionEnd>l.selectionStart&&l.selectionEnd-l.selectionStart===String(l.currentLooseValue).length){const C=L.numberSymbols(),B=C&&d.key===C.minusSign,Lt=C&&d.key===C.decimal;ie.current=!B&&!Lt;return}switch(d.keyCode){case 38:We(z,l,p,b,V,c,L);break;case 40:Je(z,l,p,b,V,c,L);break;case 13:{if(Me===!1)return;const C=y(U(z,b,V),c,L),B=U(L.parseNumber(C,c),b,V);l.eventValue=B,l.currentLooseValue=y(B,c,L),l.selectionStart=l.selectionEnd=l.currentLooseValue.length;break}case 110:{const C=v.current,B=L.numberSymbols();C&&(l.currentLooseValue=l.currentLooseValue.slice(0,l.selectionStart)+B.decimal+l.currentLooseValue.slice(l.selectionEnd),l.selectionStart=l.selectionEnd=l.selectionStart+1,l=Xe(l,c,L));break}default:return}d.preventDefault(),M(d,l)},[c,b,V,p,I,Me,M,F]),gt=s.useCallback(()=>{ie.current=!0},[]),Ee=s.useCallback(d=>{if(O||i)return;const l=F();We(L.parseNumber(String(l.currentLooseValue),c),l,p,b,V,c,L),M(d,l)},[c,b,V,p,I,O,i,M,F]),Oe=s.useCallback(d=>{if(O||i)return;const l=F();Je(L.parseNumber(String(l.currentLooseValue),c),l,p,b,V,c,L),M(d,l)},[c,b,V,p,I,O,i,M,F]),pt=s.useCallback(d=>{const l=Ke(document);!document||l!==v.current||!v.current||O||i||(d.nativeEvent.deltaY<0&&Ee(d),d.nativeEvent.deltaY>0&&Oe(d))},[Ee,Oe,i,O]),bt=s.useCallback(d=>{x.current.currentLooseValue=ye.current,x.current.focused=!0,ke(J,d,q(),{}),T(l=>!l)},[J,T,q]),Vt=s.useCallback(d=>{x.current=Ge(),ke(_,d,q(),{}),T(l=>!l)},[_,T,q]),vt=s.useCallback(d=>{if(document&&v.current){const l=Ke(document);d.preventDefault(),l!==v.current&&v.current.focus()}},[]);yt(()=>{v.current&&v.current.type!=="number"&&x.current.selectionStart!==void 0&&x.current.selectionEnd!==void 0&&(v.current.selectionStart=x.current.selectionStart,v.current.selectionEnd=x.current.selectionEnd,x.current.selectionStart=void 0,x.current.selectionEnd=void 0)},[it]);const ze=!xe()||me().valid,Ae=s.createElement("span",{dir:R,style:j?le:{width:u,...le},className:xt("k-input","k-numerictextbox",{[`k-input-${Te.sizeMap[he]||he}`]:he,[`k-input-${ae}`]:ae,[`k-rounded-${Te.roundedMap[Se]||Se}`]:Se,"k-invalid":!ze,"k-required":g,"k-disabled":i},e),"aria-disabled":i?"true":void 0,...j?{}:Be},s.createElement(ct,null),s.createElement("input",{role:"spinbutton",value:Z===null?"":Z,tabIndex:$t(f,i),accessKey:h,disabled:i,title:D,"aria-disabled":i?"true":void 0,"aria-valuemin":b,"aria-valuemax":V,"aria-label":re,"aria-labelledby":w,"aria-describedby":te,"aria-required":g,placeholder:A,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:at,type:ne||"tel",className:"k-input-inner",id:De,name:Y,readOnly:O,style:H,onChange:mt,onFocus:bt,onBlur:Vt,onKeyDown:ft,onPaste:gt,onWheel:pt,ref:v,...ot}),s.createElement(dt,null),Le,P&&s.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:vt},s.createElement(Ue,{tabIndex:-1,type:"button",icon:"caret-alt-up",svgIcon:Et,rounded:null,fillMode:ae,className:"k-spinner-increase","aria-label":oe.toLanguageString(fe,ge[fe]),title:oe.toLanguageString(fe,ge[fe]),onClick:Ee}),s.createElement(Ue,{tabIndex:-1,type:"button",icon:"caret-alt-down",svgIcon:Ot,rounded:null,fillMode:ae,className:"k-spinner-decrease","aria-label":oe.toLanguageString(pe,ge[pe]),title:oe.toLanguageString(pe,ge[pe]),onClick:Oe})));return j?s.createElement(wt,{label:j,editorId:De,editorValue:Z===null?"":Z,editorValid:ze,editorDisabled:i,editorPlaceholder:A,children:Ae,style:{width:u},dir:R,...Be}):Ae});ut.propTypes={value:o.number,defaultValue:o.number,step:o.number,format:o.oneOfType([o.string,o.shape({style:o.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:o.string,currencyDisplay:o.oneOf(["symbol","code","name"]),useGrouping:o.bool,minimumIntegerDigits:o.number,minimumFractionDigits:o.number,maximumFractionDigits:o.number})]),width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,title:o.string,placeholder:o.string,min:o.number,max:o.number,spinners:o.bool,disabled:o.bool,readOnly:o.bool,dir:o.string,name:o.string,label:o.string,validationMessage:o.string,required:o.bool,id:o.string,rangeOnEnter:o.bool,ariaLabelledBy:o.string,ariaDescribedBy:o.string,ariaLabel:o.string,onChange:o.func,onFocus:o.func,onBlur:o.func,size:o.oneOf([null,"small","medium","large"]),rounded:o.oneOf([null,"small","medium","large","full"]),fillMode:o.oneOf([null,"solid","flat","outline"]),inputAttributes:o.object};const S={prefix:t=>null,suffix:t=>null,step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,autoFocus:!1,onChange:t=>{},onFocus:t=>{},onBlur:t=>{},size:"medium",rounded:"medium",fillMode:"solid"};ut.displayName="KendoNumericTextBox";export{ut as E};
