import{r as a}from"./index.CAcXRpb3.js";import{n as Q,e as o,y as D,C as E,b1 as T,D as K,b2 as q,E as P}from"./languageStore.CvmaGXLo.js";import{n as se,a as ie,e as oe}from"./withPropsContext.CGWAPolT.js";import{u as U}from"./CustomizedSection.nesIWuyL.js";import{D as X,I as re}from"./index.zQUBlHq1.js";import{i as ce}from"./package-metadata.CrVbPcnb.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const V=a.forwardRef((t,n)=>{const i=a.useRef(null),e=a.useRef(null),s={dir:de.dir,...t},v=U(e,s.dir);a.useImperativeHandle(i,()=>({element:e.current,props:s,value:s.value})),a.useImperativeHandle(n,()=>i.current);const k=a.useCallback(d=>{s.onClick&&s.onClick.call(void 0,{value:s.value,target:i.current,syntheticEvent:d})},[s.onClick,s.value]),p=a.useCallback(d=>{s.onKeyDown&&s.onKeyDown.call(void 0,{target:i.current,syntheticEvent:d})},[s.onKeyDown]),N=a.useCallback(d=>{s.onFocus&&s.onFocus.call(void 0,{target:i.current,syntheticEvent:d})},[s.onFocus]),x=a.useCallback(d=>{s.onBlur&&s.onBlur.call(void 0,{target:i.current,syntheticEvent:d})},[s.onBlur]),M=a.useCallback(d=>{s.onMouseMove&&s.onMouseMove.call(void 0,{target:i.current,syntheticEvent:d})},[s.onMouseMove]),g=a.useCallback(d=>{s.onMouseEnter&&s.onMouseEnter.call(void 0,{target:i.current,syntheticEvent:d})},[s.onMouseEnter]),u=a.useCallback(d=>{s.onMouseLeave&&s.onMouseLeave.call(void 0,{target:i.current,syntheticEvent:d})},[s.onMouseLeave]);return a.createElement("span",{id:s.id,ref:e,dir:v,"data-half":s.half,tabIndex:s.tabIndex,title:s.title,style:s.style,className:Q("k-rating-item",{"k-rtl":v==="rtl","k-selected":s.selected,"k-hover":s.hovered},s.className),onClick:k,onKeyDown:p,onFocus:N,onBlur:x,onMouseEnter:g,onMouseLeave:u,onMouseMove:M},s.children)}),ue={id:o.string,icon:o.any,dir:o.oneOf(["ltr","rtl"]),title:o.string,value:o.number.isRequired,half:o.bool,selected:o.bool,hovered:o.bool},de={dir:"ltr"};V.displayName="KendoReactRatingItem";V.propTypes=ue;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const y=(t,n)=>{if(t%1){const i=Math.pow(10,(n.toString().split(".")[1]||n.toString().split(".")[0]).length);return Math.round(t*i)/i}return t},me=(t,n)=>t-n*Math.floor(t/n),F=(t,n,i)=>y(t-i,i)<n&&n<t,z=(t,n,i,e)=>n===null?!1:e==="continues"?F(t,n,i)?y(t-i/2,i/2)<=n:t<=n:e==="single"?F(t,n,i)?y(t-i/2,i/2)===n:t===n:!1,j=(t,n,i)=>t==="ltr"?i<n.x+n.width/2:i>n.x+n.width/2,G=(t,n,i,e)=>{for(let s=t;s<=n;s+=i)if(e===s)return!0;return!1};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var m=(t=>(t.select="select",t.deselect="deselect",t.increase="increase",t.decrease="decrease",t.min="min",t.max="max",t.reset="reset",t))(m||{});const ve=(t,n)=>{switch(n.type){case"select":return n.payload===void 0||n.step===void 0?t:n.payload===t?null:n.payload>=n.min?n.payload<n.max?y(n.payload,n.step):n.max:n.min;case"deselect":return null;case"increase":return n.step===void 0?t:t<n.min?n.min:t+n.step<n.max?y(t+n.step,n.step):n.max;case"decrease":return n.step===void 0?t:y(t-n.step,n.step)>=n.min?y(t-n.step,n.step):n.min;case"min":return n.step===void 0?t:n.min;case"max":return n.max;case"reset":return null;default:return t}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const J=(t,n,i)=>{const[e,s]=a.useState(t);return[e,v=>{const k=ve(n.state||e,{...v,...n});i&&i(k,v.event),s(k)}]},pe=ie(),W=a.forwardRef((t,n)=>{const i=se(pe,t),e={dir:c.dir,min:c.min,max:c.max,step:c.step,item:c.item,defaultValue:c.defaultValue,readonly:c.readonly,disabled:c.disabled,selection:c.selection,precision:c.precision,...i},s=ce(),v=a.useRef(null),k=a.useRef(null),p=U(k,e.dir);a.useImperativeHandle(v,()=>({element:k.current,props:e})),a.useImperativeHandle(n,()=>v.current);const N=a.useCallback((l,r)=>{e.onChange&&v.current&&e.onChange.call(void 0,{value:l,target:v.current,syntheticEvent:r})},[e.onChange]),x=a.useMemo(()=>e.min!==void 0?e.min:c.min,[e.min]),M=a.useMemo(()=>e.max!==void 0?e.max:c.max,[e.max]),g=a.useMemo(()=>e.precision||c.precision,[e.precision]),u=a.useMemo(()=>e.step!==void 0?e.step:c.step,[e.step]),d=a.useMemo(()=>e.readonly||c.readonly,[e.readonly]),C=a.useMemo(()=>e.disabled||c.disabled,[e.disabled]),Y=a.useMemo(()=>e.item||c.item,[e.item]),[L,b]=J(e.defaultValue!==void 0?e.defaultValue:c.defaultValue,{state:e.value,min:x,max:M,step:g==="half"?u/2:u},N),[H,R]=J(null,{state:e.value,min:x,max:M,step:g==="half"?u/2:u,precision:g}),h=a.useMemo(()=>e.value!==void 0?e.value:L,[e.value,L]),$=a.useMemo(()=>H,[H]),O=a.useMemo(()=>e.selection||c.selection,[e.selection]),w=a.useMemo(()=>u/(g==="half"?2:1),[u,g]),Z=a.useCallback(l=>{if(!(!l.target||!l.target.element||d||C)){if(g==="half"){const r=l.target.element.getBoundingClientRect(),f=j(p||"ltr",r,l.syntheticEvent.clientX)?y(l.target.value-u/2,w):l.target.value;b({type:m.select,payload:f,event:l.syntheticEvent})}else b({type:m.select,payload:l.target.value,event:l.syntheticEvent});if(e.onClick){const r={value:h,target:v.current,syntheticEvent:l.syntheticEvent};e.onClick.call(void 0,r)}}},[e.onClick,b,h]),_=a.useCallback(l=>{if(!(d||C)){switch(l.keyCode){case D.right:l.preventDefault(),b({type:p==="rtl"?m.decrease:m.increase,event:l});break;case D.left:l.preventDefault(),b({type:p==="rtl"?m.increase:m.decrease,event:l});break;case D.home:l.preventDefault(),b({type:p==="rtl"?m.min:m.max,event:l});break;case D.end:l.preventDefault(),b({type:p==="rtl"?m.max:m.min,event:l});break;case D.esc:l.preventDefault(),b({type:m.deselect,event:l});break}e.onKeyDown&&e.onKeyDown.call(void 0,{value:h,target:v.current,syntheticEvent:l})}},[e.onKeyDown,b,h]),A=a.useCallback(l=>{if(e.onFocus){const r={target:v.current,syntheticEvent:l};e.onFocus.call(void 0,r)}},[e.onFocus]),ee=a.useCallback(l=>{if(e.onBlur){const r={target:v.current,syntheticEvent:l};e.onBlur.call(void 0,r)}},[e.onBlur]),te=a.useCallback(l=>{if(!(!l.target||!l.target.element))if(g==="half"){const r=l.target.element.getBoundingClientRect(),f=j(p||"ltr",r,l.syntheticEvent.clientX)?l.target.value-u/2:l.target.value;R({type:m.select,payload:f,event:l.syntheticEvent})}else R({type:m.select,payload:l.target.value,event:l.syntheticEvent})},[g,u,p]),ne=a.useCallback(l=>{R({type:m.reset,event:l.syntheticEvent})},[]),S=[],ae=me(y(M-x,w),u);for(let l=x;l<=M;l=y(l+u,w)){const r=y(l+ae,w),f=g==="half"?F(r,$!==null?$:h!==null?h:0,u):!1,le=z(r,h,u,O),B=z(r,$!==null?$:h,u,O),I=z(r,$,u,O);S.push(a.createElement(Y,{key:r,value:r,dir:p,title:String(f?y(r-u/2,w):r),icon:e.icon,svgIcon:e.svgIcon,half:f,selected:le||B,hovered:I,onClick:Z,onMouseMove:te,onMouseLeave:ne},f&&a.createElement("span",{className:"k-rating-precision-complement"},!(e.icon||e.svgIconOutline)&&a.createElement(E,{name:"star-outline",icon:T,style:{clipPath:`${p==="rtl"?"inset(0 50% 0 0)":"inset(0 0 0 50%)"}`},size:"xlarge"}),(e.icon||e.svgIconOutline)&&a.createElement(E,{name:K(`${e.icon}-outline`),icon:e.svgIconOutline,size:"xlarge"})),f&&a.createElement("span",{className:"k-rating-precision-part"},!(e.icon||e.svgIcon)&&a.createElement(E,{name:"star",icon:q,style:{clipPath:`${p==="rtl"?"inset(0 0 0 50%)":"inset(0 50% 0 0)"}`},size:"xlarge"}),(e.icon||e.svgIcon)&&a.createElement(E,{name:e.icon?K(e.icon):void 0,icon:e.svgIcon,size:"xlarge"})),f&&a.createElement("span",{style:{width:"24px",height:"24px",display:"block"}}),!f&&!(e.icon||e.svgIcon)&&(I||B&&!I)&&a.createElement(E,{name:"star",icon:q,size:"xlarge"})||!(e.icon||e.svgIcon)&&!I&&!B&&a.createElement(E,{name:"star-outline",icon:T,size:"xlarge"})||(e.icon||e.svgIcon)&&(I||B&&!I)&&a.createElement(E,{name:e.icon,icon:e.svgIcon,size:"xlarge"})||(e.icon||e.svgIcon)&&!I&&a.createElement(E,{name:K(`${e.icon}-outline`),icon:e.svgIconOutline,size:"xlarge"})))}return a.createElement("span",{id:e.id,style:e.style,ref:k,role:"slider",dir:p,tabIndex:oe(e.tabIndex,e.disabled,void 0),className:Q("k-rating",{"k-rtl":p==="rtl","k-readonly":d,"k-disabled":C},e.className),onKeyDown:_,onFocus:A,onBlur:ee,"aria-valuemin":x,"aria-valuemax":M,"aria-valuenow":h!==null?h:void 0,"aria-disabled":C?"true":void 0,"aria-label":s.toLanguageString(X,re[X]),"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},a.createElement("input",{id:"rating",className:"k-hidden",readOnly:d,disabled:C}),a.createElement("span",{className:"k-rating-container"},S),e.label&&a.createElement("span",{className:"k-rating-label"},e.label))}),ye={id:o.string,dir:o.oneOf(["ltr","rtl"]),selection:o.oneOf(["continues","single"]),precision:o.oneOf(["item","half"]),value:(t,n,i)=>t.value&&t.min&&t.max&&t.step&&!(t.precision==="half"?G(t.min,t.max,t.step/2,t.value):G(t.min,t.max,t.step,t.value))&&t.precision==="half"?new Error(`Invalid prop + ${n} supplied to ${i}.
                    The value of the { value } property is not correct, please check your values.
                    `):null,defaultValue:o.number,min:o.number,max:o.number,step:(t,n,i)=>t.step!==void 0&&t.step<=0?new Error(`Invalid prop + ${n} supplied to ${i}.
                The value of the { step } property is cannot be equal or less than "0", please check your values.
                `):null,hovered:o.number,label:o.string,readonly:o.bool,disabled:o.bool,half:o.bool,icon:o.string,svgIcon:P,svgIconOutline:P,ariaDescribedBy:o.string},c={dir:"ltr",min:1,max:5,step:1,item:V,defaultValue:null,readonly:!1,disabled:!1,selection:"continues",precision:"item"};W.displayName="KendoReactRating";W.propTypes=ye;export{W as G};
