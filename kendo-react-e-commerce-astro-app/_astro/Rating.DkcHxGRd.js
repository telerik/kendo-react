import{r as n}from"./index.Brq2tt8m.js";import{n as J,e as i,av as se,F as oe,w as D,A as E,bj as T,B as K,bk as q,C as P}from"./languageStore.DbRuz5-R.js";import{e as ie}from"./getTabIndex.DyyoPw_c.js";import{u as Q}from"./CustomizedSection.DjS-Irc1.js";import{D as j,I as re}from"./index.zQUBlHq1.js";import{i as ce}from"./index.C2nvAe39.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const V=n.forwardRef((t,a)=>{const o=n.useRef(null),e=n.useRef(null),s={dir:de.dir,...t},v=Q(e,s.dir);n.useImperativeHandle(o,()=>({element:e.current,props:s,value:s.value})),n.useImperativeHandle(a,()=>o.current);const k=n.useCallback(d=>{s.onClick&&s.onClick.call(void 0,{value:s.value,target:o.current,syntheticEvent:d})},[s.onClick,s.value]),p=n.useCallback(d=>{s.onKeyDown&&s.onKeyDown.call(void 0,{target:o.current,syntheticEvent:d})},[s.onKeyDown]),N=n.useCallback(d=>{s.onFocus&&s.onFocus.call(void 0,{target:o.current,syntheticEvent:d})},[s.onFocus]),x=n.useCallback(d=>{s.onBlur&&s.onBlur.call(void 0,{target:o.current,syntheticEvent:d})},[s.onBlur]),M=n.useCallback(d=>{s.onMouseMove&&s.onMouseMove.call(void 0,{target:o.current,syntheticEvent:d})},[s.onMouseMove]),g=n.useCallback(d=>{s.onMouseEnter&&s.onMouseEnter.call(void 0,{target:o.current,syntheticEvent:d})},[s.onMouseEnter]),u=n.useCallback(d=>{s.onMouseLeave&&s.onMouseLeave.call(void 0,{target:o.current,syntheticEvent:d})},[s.onMouseLeave]);return n.createElement("span",{id:s.id,ref:e,dir:v,"data-half":s.half,tabIndex:s.tabIndex,title:s.title,style:s.style,className:J("k-rating-item",{"k-rtl":v==="rtl","k-selected":s.selected,"k-hover":s.hovered},s.className),onClick:k,onKeyDown:p,onFocus:N,onBlur:x,onMouseEnter:g,onMouseLeave:u,onMouseMove:M},s.children)}),ue={id:i.string,icon:i.any,dir:i.oneOf(["ltr","rtl"]),title:i.string,value:i.number.isRequired,half:i.bool,selected:i.bool,hovered:i.bool},de={dir:"ltr"};V.displayName="KendoReactRatingItem";V.propTypes=ue;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const y=(t,a)=>{if(t%1){const o=Math.pow(10,(a.toString().split(".")[1]||a.toString().split(".")[0]).length);return Math.round(t*o)/o}return t},me=(t,a)=>t-a*Math.floor(t/a),F=(t,a,o)=>y(t-o,o)<a&&a<t,z=(t,a,o,e)=>a===null?!1:e==="continues"?F(t,a,o)?y(t-o/2,o/2)<=a:t<=a:e==="single"?F(t,a,o)?y(t-o/2,o/2)===a:t===a:!1,X=(t,a,o)=>t==="ltr"?o<a.x+a.width/2:o>a.x+a.width/2,A=(t,a,o,e)=>{for(let s=t;s<=a;s+=o)if(e===s)return!0;return!1};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var m=(t=>(t.select="select",t.deselect="deselect",t.increase="increase",t.decrease="decrease",t.min="min",t.max="max",t.reset="reset",t))(m||{});const ve=(t,a)=>{switch(a.type){case"select":return a.payload===void 0||a.step===void 0?t:a.payload===t?null:a.payload>=a.min?a.payload<a.max?y(a.payload,a.step):a.max:a.min;case"deselect":return null;case"increase":return a.step===void 0?t:t<a.min?a.min:t+a.step<a.max?y(t+a.step,a.step):a.max;case"decrease":return a.step===void 0?t:y(t-a.step,a.step)>=a.min?y(t-a.step,a.step):a.min;case"min":return a.step===void 0?t:a.min;case"max":return a.max;case"reset":return null;default:return t}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const G=(t,a,o)=>{const[e,s]=n.useState(t);return[e,v=>{const k=ve(a.state||e,{...v,...a});o&&o(k,v.event),s(k)}]},pe=oe(),U=n.forwardRef((t,a)=>{const o=se(pe,t),e={dir:c.dir,min:c.min,max:c.max,step:c.step,item:c.item,defaultValue:c.defaultValue,readonly:c.readonly,disabled:c.disabled,selection:c.selection,precision:c.precision,...o},s=ce(),v=n.useRef(null),k=n.useRef(null),p=Q(k,e.dir);n.useImperativeHandle(v,()=>({element:k.current,props:e})),n.useImperativeHandle(a,()=>v.current);const N=n.useCallback((l,r)=>{e.onChange&&v.current&&e.onChange.call(void 0,{value:l,target:v.current,syntheticEvent:r})},[e.onChange]),x=n.useMemo(()=>e.min!==void 0?e.min:c.min,[e.min]),M=n.useMemo(()=>e.max!==void 0?e.max:c.max,[e.max]),g=n.useMemo(()=>e.precision||c.precision,[e.precision]),u=n.useMemo(()=>e.step!==void 0?e.step:c.step,[e.step]),d=n.useMemo(()=>e.readonly||c.readonly,[e.readonly]),C=n.useMemo(()=>e.disabled||c.disabled,[e.disabled]),W=n.useMemo(()=>e.item||c.item,[e.item]),[L,b]=G(e.defaultValue!==void 0?e.defaultValue:c.defaultValue,{state:e.value,min:x,max:M,step:g==="half"?u/2:u},N),[H,R]=G(null,{state:e.value,min:x,max:M,step:g==="half"?u/2:u,precision:g}),f=n.useMemo(()=>e.value!==void 0?e.value:L,[e.value,L]),$=n.useMemo(()=>H,[H]),O=n.useMemo(()=>e.selection||c.selection,[e.selection]),w=n.useMemo(()=>u/(g==="half"?2:1),[u,g]),Y=n.useCallback(l=>{if(!(!l.target||!l.target.element||d||C)){if(g==="half"){const r=l.target.element.getBoundingClientRect(),h=X(p||"ltr",r,l.syntheticEvent.clientX)?y(l.target.value-u/2,w):l.target.value;b({type:m.select,payload:h,event:l.syntheticEvent})}else b({type:m.select,payload:l.target.value,event:l.syntheticEvent});if(e.onClick){const r={value:f,target:v.current,syntheticEvent:l.syntheticEvent};e.onClick.call(void 0,r)}}},[e.onClick,b,f]),Z=n.useCallback(l=>{if(!(d||C)){switch(l.keyCode){case D.right:l.preventDefault(),b({type:p==="rtl"?m.decrease:m.increase,event:l});break;case D.left:l.preventDefault(),b({type:p==="rtl"?m.increase:m.decrease,event:l});break;case D.home:l.preventDefault(),b({type:p==="rtl"?m.min:m.max,event:l});break;case D.end:l.preventDefault(),b({type:p==="rtl"?m.max:m.min,event:l});break;case D.esc:l.preventDefault(),b({type:m.deselect,event:l});break}e.onKeyDown&&e.onKeyDown.call(void 0,{value:f,target:v.current,syntheticEvent:l})}},[e.onKeyDown,b,f]),_=n.useCallback(l=>{if(e.onFocus){const r={target:v.current,syntheticEvent:l};e.onFocus.call(void 0,r)}},[e.onFocus]),ee=n.useCallback(l=>{if(e.onBlur){const r={target:v.current,syntheticEvent:l};e.onBlur.call(void 0,r)}},[e.onBlur]),te=n.useCallback(l=>{if(!(!l.target||!l.target.element))if(g==="half"){const r=l.target.element.getBoundingClientRect(),h=X(p||"ltr",r,l.syntheticEvent.clientX)?l.target.value-u/2:l.target.value;R({type:m.select,payload:h,event:l.syntheticEvent})}else R({type:m.select,payload:l.target.value,event:l.syntheticEvent})},[g,u,p]),ae=n.useCallback(l=>{R({type:m.reset,event:l.syntheticEvent})},[]),S=[],ne=me(y(M-x,w),u);for(let l=x;l<=M;l=y(l+u,w)){const r=y(l+ne,w),h=g==="half"?F(r,$!==null?$:f!==null?f:0,u):!1,le=z(r,f,u,O),B=z(r,$!==null?$:f,u,O),I=z(r,$,u,O);S.push(n.createElement(W,{key:r,value:r,dir:p,title:String(h?y(r-u/2,w):r),icon:e.icon,svgIcon:e.svgIcon,half:h,selected:le||B,hovered:I,onClick:Y,onMouseMove:te,onMouseLeave:ae},h&&n.createElement("span",{className:"k-rating-precision-complement"},!(e.icon||e.svgIconOutline)&&n.createElement(E,{name:"star-outline",icon:T,style:{clipPath:`${p==="rtl"?"inset(0 50% 0 0)":"inset(0 0 0 50%)"}`},size:"xlarge"}),(e.icon||e.svgIconOutline)&&n.createElement(E,{name:K(`${e.icon}-outline`),icon:e.svgIconOutline,size:"xlarge"})),h&&n.createElement("span",{className:"k-rating-precision-part"},!(e.icon||e.svgIcon)&&n.createElement(E,{name:"star",icon:q,style:{clipPath:`${p==="rtl"?"inset(0 0 0 50%)":"inset(0 50% 0 0)"}`},size:"xlarge"}),(e.icon||e.svgIcon)&&n.createElement(E,{name:e.icon?K(e.icon):void 0,icon:e.svgIcon,size:"xlarge"})),h&&n.createElement("span",{style:{width:"24px",height:"24px",display:"block"}}),!h&&!(e.icon||e.svgIcon)&&(I||B&&!I)&&n.createElement(E,{name:"star",icon:q,size:"xlarge"})||!(e.icon||e.svgIcon)&&!I&&!B&&n.createElement(E,{name:"star-outline",icon:T,size:"xlarge"})||(e.icon||e.svgIcon)&&(I||B&&!I)&&n.createElement(E,{name:e.icon,icon:e.svgIcon,size:"xlarge"})||(e.icon||e.svgIcon)&&!I&&n.createElement(E,{name:K(`${e.icon}-outline`),icon:e.svgIconOutline,size:"xlarge"})))}return n.createElement("span",{id:e.id,style:e.style,ref:k,role:"slider",dir:p,tabIndex:ie(e.tabIndex,e.disabled,void 0),className:J("k-rating",{"k-rtl":p==="rtl","k-readonly":d,"k-disabled":C},e.className),onKeyDown:Z,onFocus:_,onBlur:ee,"aria-valuemin":x,"aria-valuemax":M,"aria-valuenow":f!==null?f:void 0,"aria-disabled":C?"true":void 0,"aria-label":s.toLanguageString(j,re[j]),"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},n.createElement("input",{id:"rating",className:"k-hidden",readOnly:d,disabled:C}),n.createElement("span",{className:"k-rating-container"},S),e.label&&n.createElement("span",{className:"k-rating-label"},e.label))}),ye={id:i.string,dir:i.oneOf(["ltr","rtl"]),selection:i.oneOf(["continues","single"]),precision:i.oneOf(["item","half"]),value:(t,a,o)=>t.value&&t.min&&t.max&&t.step&&!(t.precision==="half"?A(t.min,t.max,t.step/2,t.value):A(t.min,t.max,t.step,t.value))&&t.precision==="half"?new Error(`Invalid prop + ${a} supplied to ${o}.
                    The value of the { value } property is not correct, please check your values.
                    `):null,defaultValue:i.number,min:i.number,max:i.number,step:(t,a,o)=>t.step!==void 0&&t.step<=0?new Error(`Invalid prop + ${a} supplied to ${o}.
                The value of the { step } property is cannot be equal or less than "0", please check your values.
                `):null,hovered:i.number,label:i.node,readonly:i.bool,disabled:i.bool,half:i.bool,icon:i.string,svgIcon:P,svgIconOutline:P,ariaDescribedBy:i.string},c={dir:"ltr",min:1,max:5,step:1,item:V,defaultValue:null,readonly:!1,disabled:!1,selection:"continues",precision:"item"};U.displayName="KendoReactRating";U.propTypes=ye;export{U as G};
